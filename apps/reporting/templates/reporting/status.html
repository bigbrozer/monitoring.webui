{% extends "common/base.html" %}

{% block extra_css %}
<link type="text/css" href="{{ STATIC_URL }}/reporting/css/page.css" rel="stylesheet" />
<link type="text/css" href="{{ STATIC_URL }}/reporting/css/charts.css" rel="stylesheet" />
{% endblock %}

{% block extra_scripts %}
<script type="text/javascript" src="{{ STATIC_URL }}/reporting/swfobject.js"></script>
<script type="text/javascript">
	// Pie chart
	swfobject.embedSWF(
		"{{ STATIC_URL }}/reporting/ofc.swf", "chart_procedure",
		"300", "300", "9.0.0", "{{ STATIC_URL }}/reporting/expressInstall.swf",
		{"data-file":"{% url optools.apps.reporting.views.procedure_stat_data %}"},
		null,
		{"styleclass":"chart piechart"}
	);
	
	// Alerts chart
	swfobject.embedSWF(
		"{{ STATIC_URL }}/reporting/ofc.swf", "chart_open_ack",
		"600", "300", "9.0.0", "{{ STATIC_URL }}/reporting/expressInstall.swf",
		{"data-file":"{% url optools.apps.reporting.views.alerts_stat_data %}"},
		null,
		{"styleclass":"chart barchart"}
	);
	
	// Total chart
	swfobject.embedSWF(
		"{{ STATIC_URL }}/reporting/ofc.swf", "chart_total",
		"900", "300", "9.0.0", "{{ STATIC_URL }}/reporting/expressInstall.swf",
		{"data-file":"{% url optools.apps.reporting.views.total_stat_data %}"},
		null,
		{"styleclass":"chart barchart"}
	);
</script>
{% endblock %}

{% block content %}
<h2>KPI about procedures and alerts</h2>
<div class="chart_table">
	<div id="chart_procedure"></div>
	<div class="spacer"></div>
</div>

<h2>KPI about total monitored hosts and services</h2>
<div class="chart_table">
	<div id="chart_total"></div>
	<div class="spacer"></div>
</div>
<span class="notes"><strong>Notes:</strong> data are updated each weeks then aggregated (per month, year, etc.).</span>
{% endblock %}
